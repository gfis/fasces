#!perl

# Check OEIS Sequence lines against b-files
# 2018-02-26, Georg Fischer
#------------------------------------------------------
# usage:
#   perl npseqs.pl npseqs.tmp 
#--------------------------------------------------------
use strict;

while (<>) {
    s/\s+\Z//; # chompr
    my $line = $_;
    my $noeis = substr($line, 1, 6);
    my @list = split(/\,/, substr($line, 9));
    my $bfile = "b$noeis.txt";
    if ( ! open(BF, "<", $bfile)) {
        print "b-file \"$bfile\" not found\n";
    } else { #  b-file found
        print "checking $bfile:";
        my $k = 0;
        while ($k < scalar(@list)) {
            $_ = <BF>;
            s/\s+\Z//; # chompr
            s/\A\s+//; # no leading spaces
            next if m/\A\#/; # ignore comments
            my ($n, $an) = split(/\s+/);
            if ($list[$k] ne $an) {
                print "A$noeis a($k)=$list[$k] differs from b($k)=$an\n;"
            }
            $k ++;
        } # while BF
        print " $k elements\n";
        close(BF);
    } # b-file found
} # while <>
# https://oeis.org/wiki/User:Georg_Fischer Feb. 24, 2018
__DATA__
0123456789
A131388 ,1,2,4,3,6,10,8,5,11,7,12,19,14,22,16,9,18,28,20,31,21,33,24,13,26,40,27,15,30,46,32,17,34,52,36,55,38,58,39,60,42,64,44,23,47,25,48,73,50,76,51,78,54,82,56,29,59,88,57,89,61,92,63,96,66,100,68,35,70,106,72,37,
A131389 ,0,1,2,-1,3,4,-2,-3,6,-4,5,7,-5,8,-6,-7,9,10,-8,11,-10,12,-9,-11,13,14,-13,-12,15,16,-14,-15,17,18,-16,19,-17,20,-19,21,-18,22,-20,-21,24,-22,23,25,-23,26,-25,27,-24,28,-26,-27,30,29,-31,32,-28,31,-29,33,-30,34,-32,-33,35,36,-34,
A131390 ,1,2,4,3,8,5,10,7,16,6,9,11,24,13,28,15,32,17,12,19,21,14,44,23,46,25,27,18,56,29,20,31,22,33,68,35,72,37,39,26,90,41,88,43,92,30,45,47,94,49,51,34,108,53,36,55,59,38,57,40,61,63,42,81,65,83,67,79,69,77,71,48,
A131391 ,1,2,4,5,8,10,11,13,16,17,19,21,24,25,28,29,32,33,35,37,39,41,44,46,47,49,51,53,56,57,59,61,63,65,68,69,72,73,75,77,79,81,83,85,88,90,92,94,95,97,99,101,103,105,108,109,111,113,115,117,119,121,123,125,127,129,
A131392 ,3,6,7,9,12,14,15,18,20,22,23,26,27,30,31,34,36,38,40,42,43,45,48,50,52,54,55,58,60,62,64,66,67,70,71,74,76,78,80,82,84,86,87,89,91,93,96,98,100,102,104,106,107,110,112,114,116,118,120,122,124,126,128,131,132,
A131393 ,1,2,4,3,6,10,8,5,11,7,12,19,14,22,16,9,18,28,20,31,21,33,24,13,26,40,27,42,30,15,32,48,34,17,35,54,38,58,39,60,37,59,41,64,44,23,47,25,50,76,52,79,53,81,56,29,61,90,62,92,63,94,57,91,55,88,49,84,51,87,46,83,
A131394 ,0,1,2,-1,3,4,-2,-3,6,-4,5,7,-5,8,-6,-7,9,10,-8,11,-10,12,-9,-11,13,14,-13,15,-12,-15,17,16,-14,-17,18,19,-16,20,-19,21,-23,22,-18,23,-20,-21,24,-22,25,26,-24,27,-26,28,-25,-27,32,29,-28,30,-29,31,-37,34,-36,33,-39,35,-33,
A131395 ,1,2,4,3,8,5,10,7,16,6,9,11,24,13,30,15,34,17,12,19,21,14,46,23,48,25,27,18,56,29,20,31,22,33,35,77,41,37,39,26,43,28,75,45,73,71,47,32,67,49,69,51,53,36,65,55,63,38,42,40,57,59,61,44,99,97,87,93,78,91,50,89,
A131396 ,1,2,4,5,8,10,11,13,16,17,19,21,24,25,27,30,31,34,35,37,39,41,43,46,48,49,51,53,56,57,59,61,63,65,67,69,71,73,75,77,78,80,82,84,87,89,91,93,95,97,99,101,103,105,107,108,111,112,114,117,119,121,123,125,127,129,
A131397 ,3,6,7,9,12,14,15,18,20,22,23,26,28,29,32,33,36,38,40,42,44,45,47,50,52,54,55,58,60,62,64,66,68,70,72,74,76,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,109,110,113,115,116,118,120,122,124,126,128,130,132,
A175498 ,1,2,4,3,6,10,5,11,7,12,9,16,8,17,15,23,13,24,18,28,14,26,19,32,20,34,21,36,25,41,22,39,30,48,27,46,29,49,31,52,37,59,33,56,40,64,35,60,38,65,42,68,43,71,44,73,45,75,51,82,47,79,112,50,84,53,88,54,90,57,94,55,93,61,100,58,98,62,103,63,105,67,
A175499 ,1,2,-1,3,4,-5,6,-4,5,-3,7,-8,9,-2,8,-10,11,-6,10,-14,12,-7,13,-12,14,-13,15,-11,16,-19,17,-9,18,-21,19,-17,20,-18,21,-15,22,-26,23,-16,24,-29,25,-22,27,-23,26,-25,28,-27,29,-28,30,-24,31,-35,32,33,-62,34,-31,35,-34,36,-33,37,-39,38,-32,39,-42,40,-36,
A257705 ,0,1,3,2,5,9,7,4,10,6,11,18,13,21,15,8,17,27,19,30,20,32,23,12,25,39,26,14,29,45,31,16,33,51,35,54,37,57,38,59,41,63,43,22,46,24,47,72,49,75,50,77,53,81,55,28,58,87,56,88,60,91,62,95,65,99,67,
A257706 ,0,2,1,4,8,6,3,9,5,10,17,12,20,14,7,16,26,18,29,19,31,22,11,24,38,25,13,28,44,30,15,32,50,34,53,36,56,37,58,40,62,42,21,45,23,46,71,48,74,49,76,52,80,54,27,57,86,55,87,59,90,61,94,64,98,66,33,
A257876 ,0,1,4,3,7,5,2,8,13,9,16,11,19,12,6,15,25,17,28,18,30,21,10,23,37,24,39,27,43,29,14,31,49,33,52,35,55,36,57,34,56,38,61,41,20,44,22,47,73,48,75,51,79,53,26,58,87,59,89,60,91,54,88,50,83,42,77,
A257877 ,0,1,3,2,6,4,9,5,11,8,15,10,18,12,21,14,24,16,7,19,30,20,33,22,36,23,38,26,42,28,13,31,48,32,51,34,54,35,17,39,60,40,63,41,65,44,69,46,72,47,74,50,78,52,25,55,27,56,87,58,90,59,29,62,96,64,99,
A257878 ,1,3,2,5,9,7,4,10,6,11,18,13,21,15,8,17,27,19,30,20,32,23,12,25,39,26,14,29,45,31,16,33,51,35,54,37,57,38,59,41,63,43,22,46,24,47,72,49,75,50,77,53,81,55,28,58,87,56,88,60,91,62,95,65,99,67,34,
A257879 ,2,1,3,4,7,5,9,6,11,17,13,8,15,23,16,10,19,29,21,12,24,14,25,38,27,41,28,43,31,47,33,18,35,53,37,20,39,59,40,22,44,65,45,68,46,70,49,26,51,77,52,79,55,83,57,30,60,32,61,92,63,95,64,34,67,101,69,
A257880 ,0,-1,2,1,3,-2,4,-3,5,6,-4,-5,7,8,-7,-6,9,10,-8,-9,12,-10,11,13,-11,14,-13,15,-12,16,-14,-15,17,18,-16,-17,19,20,-19,-18,22,21,-20,23,-22,24,-21,-23,25,26,-25,27,-24,28,-26,-27,30,-28,29,31,-29,32,
A257881 ,2,1,3,6,4,8,5,10,16,12,7,14,22,15,9,18,28,20,11,23,13,24,37,26,40,27,42,30,46,32,17,34,52,36,19,38,58,39,21,43,64,44,67,45,69,48,25,50,76,51,78,54,82,56,29,59,31,60,91,62,94,63,33,66,100,68,35,
A257882 ,2,1,4,5,3,7,12,9,15,11,6,13,21,14,8,17,27,19,10,22,33,23,36,25,39,26,41,29,45,31,16,34,18,35,54,37,57,38,20,42,63,43,66,44,68,47,24,49,75,51,78,53,81,55,28,58,30,59,90,61,93,62,32,65,99,67,102,
A257883 ,0,1,3,2,5,9,4,10,6,11,8,15,7,16,14,22,12,23,17,27,13,25,18,31,19,33,20,35,24,40,21,38,29,47,26,45,28,48,30,51,36,58,32,55,39,63,34,59,37,64,41,67,42,70,43,72,44,74,50,81,46,78,111,49,83,52,87,
A257884 ,0,2,1,4,8,3,9,5,10,7,14,6,15,13,21,11,22,16,26,12,24,17,30,18,32,19,34,23,39,20,37,28,46,25,44,27,47,29,50,35,57,31,54,38,62,33,58,36,63,40,66,41,69,42,71,43,73,49,80,45,77,110,48,82,51,86,52,
A257885 ,0,1,4,2,6,3,8,7,13,5,12,20,9,18,11,21,15,10,22,33,14,27,17,31,16,32,19,34,25,42,24,43,23,41,29,49,26,47,30,52,28,51,35,59,37,62,36,63,38,64,50,46,74,39,68,40,70,101,44,76,45,78,48,82,53,88,54,
A257902 ,2,1,3,-2,4,-3,5,-1,6,-8,7,8,-11,9,-7,10,-6,-5,12,11,-19,13,-10,14,-15,16,-13,15,-9,17,-18,19,-20,18,-12,20,-23,21,-17,22,-24,23,-16,24,-22,25,-26,27,-25,26,-14,-4,28,-35,29,-28,30,31,-57,32,-31,33,
A257903 ,0,1,3,2,6,4,9,5,11,8,15,7,16,10,18,13,23,12,24,14,25,38,17,31,19,34,20,36,21,39,22,41,28,45,26,46,30,51,27,49,29,52,43,67,32,57,35,61,33,60,37,65,40,69,42,72,54,47,78,44,76,50,83,53,87,48,84,
A257904 ,3,1,2,-1,4,-2,5,-4,6,-3,7,-8,9,-6,8,-5,10,-11,12,-10,11,13,-21,14,-12,15,-14,16,-15,18,-17,19,-13,17,-19,20,-16,21,-24,22,-20,23,-9,24,-35,25,-22,26,-28,27,-23,28,-25,29,-27,30,-18,-7,31,-34,32,-26,
A257905 ,0,1,3,2,5,11,4,9,6,13,7,15,10,8,17,35,12,25,14,29,16,33,18,37,19,39,20,41,21,43,22,45,23,47,30,26,53,24,49,40,28,57,27,55,31,63,32,65,38,42,34,69,36,73,48,97,44,89,46,93,51,103,52,105,50,101,
A257906 ,0,2,5,3,7,4,9,8,15,6,14,10,19,11,21,16,31,12,23,13,25,18,35,17,33,20,39,22,43,27,53,24,47,26,51,28,55,29,57,30,59,34,67,32,63,41,81,36,71,37,73,40,79,38,75,44,87,45,89,42,83,46,91,48,95,49,97,
A257907 ,1,2,3,-2,4,-3,5,-1,7,-9,8,-4,9,-8,10,-5,15,-19,11,-10,12,-7,17,-18,16,-13,19,-17,21,-16,26,-29,23,-21,25,-23,27,-26,28,-27,29,-25,33,-35,31,-22,40,-45,35,-34,36,-33,39,-41,37,-31,43,-42,44,-47,41,
A257908 ,0,1,4,2,6,3,8,7,15,5,11,23,9,19,10,21,13,27,12,25,14,29,16,33,17,35,18,37,30,24,20,41,22,45,40,28,57,26,53,31,63,34,69,32,65,38,77,36,73,39,79,43,87,42,85,46,93,44,89,47,95,48,97,49,99,55,111,
A257909 ,2,1,3,-2,4,-3,5,-1,8,-10,6,12,-14,10,-9,11,-8,14,-15,13,-11,15,-13,17,-16,18,-17,19,-7,-6,-4,21,-19,23,-5,-12,29,-31,27,-22,32,-29,35,-37,33,-27,39,-41,37,-34,40,-36,44,-45,43,-39,47,-49,45,-42,48,
A257910 ,0,1,3,2,6,4,9,5,11,8,17,7,15,10,21,12,25,13,27,14,29,18,37,16,33,19,39,20,41,23,47,22,45,28,57,24,49,26,53,31,63,32,65,30,61,34,69,35,71,42,36,73,43,87,38,77,40,81,55,48,97,44,89,46,93,51,103,
A257911 ,2,1,4,5,3,7,12,6,13,8,14,10,18,9,19,11,20,17,28,15,27,16,29,22,36,21,37,23,38,26,43,24,42,25,44,34,54,30,51,31,53,32,55,33,57,39,64,35,61,45,72,40,68,41,70,47,77,46,78,48,79,112,49,83,50,85,59,
A257912 ,2,-1,3,1,-2,4,5,-6,7,-5,6,-4,8,-9,10,-8,9,-3,11,-13,12,-11,13,-7,14,-15,16,-14,15,-12,17,-19,18,-17,19,-10,20,-24,21,-20,22,-21,23,-22,24,-18,25,-29,26,-16,27,-32,28,-27,29,-23,30,-31,32,-30,31,33,
A257915 ,3,1,2,-1,4,-2,5,-4,6,-3,7,-5,8,-6,9,-7,10,-8,-9,12,11,-10,13,-11,14,-13,15,-12,16,-14,-15,18,17,-16,19,-17,20,-19,-18,22,21,-20,23,-22,24,-21,25,-23,26,-25,27,-24,28,-26,-27,30,-28,29,31,-29,32,-31,
A257918 ,2,-1,3,1,-2,4,5,-3,6,-4,-5,7,8,-7,-6,9,10,-8,-9,12,11,-10,13,-11,14,-13,15,-12,16,-14,-15,18,-16,17,19,-17,20,-19,-18,22,21,-20,23,-22,24,-21,-23,25,26,-24,27,-25,28,-26,-27,30,-28,29,31,-29,32,-31,
A257980 ,3,1,2,-1,4,-2,5,-4,6,-3,9,-10,8,-5,11,-9,13,-12,14,-13,15,-11,19,-21,17,-14,20,-19,21,-18,24,-25,23,-17,29,-33,25,-23,27,-22,32,-31,33,-35,31,-27,35,-34,36,-29,-6,37,-30,44,-49,39,-37,41,-26,-7,49,
A257981 ,1,3,2,5,10,4,8,6,12,7,14,11,22,9,18,36,13,26,15,30,16,32,17,34,24,20,40,19,38,21,42,23,46,28,56,25,50,41,29,58,31,62,27,54,47,39,78,33,66,37,74,35,70,44,88,45,90,43,86,48,96,52,104,49,98,57,
A257982 ,1,2,-1,3,5,-6,4,-2,6,-5,7,-3,11,-13,9,18,-23,13,-11,15,-14,16,-15,17,-10,-4,20,-21,19,-17,21,-19,23,-18,28,-31,25,-9,-12,29,-27,31,-35,27,-7,-8,39,-45,33,-29,37,-39,35,-26,44,-43,45,-47,43,-38,48,
A257983 ,1,2,5,3,7,4,9,8,16,6,12,24,10,20,11,22,14,28,13,26,15,30,17,34,18,36,19,38,31,25,21,42,23,46,41,29,58,27,54,32,64,35,70,33,66,39,78,37,74,40,80,44,88,43,86,47,94,45,90,48,96,49,98,50,100,56,
A257985 ,2,3,5,4,7,13,6,11,8,15,9,17,12,10,19,37,14,27,16,31,18,35,20,39,21,41,22,43,23,45,24,47,25,49,32,28,55,26,51,42,30,59,29,57,33,65,34,67,40,44,36,71,38,75,50,99,46,91,48,95,53,105,54,107,52,103,
A257986 ,2,4,3,6,11,5,9,7,13,8,15,12,23,10,19,37,14,27,16,31,17,33,18,35,25,21,41,20,39,22,43,24,47,29,57,26,51,42,30,59,32,63,28,55,48,40,79,34,67,38,75,36,71,45,89,46,91,44,87,49,97,53,105,50,99,58,
A257987 ,2,3,6,4,8,5,10,9,17,7,13,25,11,21,12,23,15,29,14,27,16,31,18,35,19,37,20,39,32,26,22,43,24,47,42,30,59,28,55,33,65,36,71,34,67,40,79,38,75,41,81,45,89,44,87,48,95,46,91,49,97,50,99,51,101,57,
A258046 ,1,2,4,3,6,12,5,10,7,14,8,16,11,9,18,36,13,26,15,30,17,34,19,38,20,40,21,42,22,44,23,46,24,48,31,27,54,25,50,41,29,58,28,56,32,64,33,66,39,43,35,70,37,74,49,98,45,90,47,94,52,104,53,106,51,102,
A258047 ,0,1,2,-1,3,6,-7,5,-3,7,-6,8,-5,-2,9,18,-23,13,-11,15,-13,17,-15,19,-18,20,-19,21,-20,22,-21,23,-22,24,-17,-4,27,-29,25,-9,-12,29,-30,28,-24,32,-31,33,-27,4,-8,35,-33,37,-25,49,-53,45,-43,47,-42,52,
